class TileOSystem
{
  1 <@>- * User;
  1 <@>- * Board;
  1 <@>- * Deck;
  1 <@>- * Game;
  singleton;
}

class User
{
  name;
}

class Designer
{
    isA User;
}

class Player
{
    color;
autounique identity;
isA User;
  0..4 -- 1 Tile position;
}

class Game
{
  int currentTurn;
  int spareConnectors;
  int currentPlayer;
  immutable int numberOfPlayers;
1 -- 2..4 Player;
}

class Board
{
  boardName;
  1 <@>- * Connection;
1 -- * Game;
    1 <@>- 2..* Tile; //Makes sure there is space for the players and the hidden tile
 per board
    1 -- 1 Designer;
}

class Tile
{
  boolean wasVisited;
}


class HiddenTile
{
  boolean wasFound = false;
  isA Tile;
}

class Connection
{
  0..4 -- 2 Tile; //Each connection must have 2 tiles associated with it
}

class Dice
{
  1 -<@> 1 Game;
}

class ActionTile
{
  int nextActiveTurn;
typeOfAction; 
immutable int inactiveTurns;
isA Tile;
}

class ActionCard
{
    32 -<@> 1 Deck;
  actionType {rollAgain{} addConnection{} removeConnection{} moveToTile{} skipTurn{}}
}

class Deck
{
  1 -- 1 Game;
  1 -- 1 Designer;
}

//$?[End_of_model]$?

class TileOSystem
{
  position 43 20 109 45;
  position.association Board__TileOSystem 59,45 0,0;
  position.association Deck__TileOSystem 102,0 0,1;
  position.association Game__TileOSystem 109,31 69,0;
  position.association TileOSystem__User 10,45 30,0;
}

class User
{
  position 10 119 112 58;
}

class Designer
{
  position 244 168 109 45;
}

class Player
{
  position 29 225 134 75;
  position.association Player__Tile:position 96,75 6,0;
}

class Game
{
  position 528 269 167 109;
  position.association Game__Player 0,8 134,25;
}

class Board
{
  position 252 294 152 58;
  position.association Board__Connection 73,58 30,0;
  position.association Board__Game 152,56 0,67;
  position.association Board__Tile 28,58 83,0;
  position.association Board__HiddenTile 0,24 30,0;
  position.association Board__Designer 62,0 71,45;
}

class Tile
{
  position 226 406 158 58;
}

class HiddenTile
{
  position 32 535 154 58;
}

class Connection
{
  position 489 438 109 45;
  position.association Connection__Tile 0,25 158,2;
}

class Dice
{
  position 601 143 109 45;
  position.association Dice__Game 54,45 161,0;
}

class ActionTile
{
  position 247 527 161 92;
}

class ActionCard
{
  position 572 42 109 45;
  position.association ActionCard__Deck 0,13 109,18;
}

class Deck
{
  position 429 40 109 45;
  position.association Deck__Game 87,45 110,0;
  position.association Deck__Designer 0,45 64,0;
}